import{r as L,s as be,n as Z,o as ye}from"../chunks/scheduler.BfJEPAwo.js";import{q as we,S as je,i as Se,n as te,g as y,d as m,e as O,t as B,s as U,c as q,a as W,b as M,f as z,k as Ce,l as g,z as P,h as C,A as le,B as D,j as ne,v as $e,w as Be,x as Me,o as Pe,y as Te}from"../chunks/index.KOKD80le.js";import{b as ie}from"../chunks/paths.B9ysvbr0.js";function K(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function se(l,e){l.d(1),e.delete(l.key)}function ae(l,e,t,n,a,_,u,b,v,j,h,c){let d=l.length,i=_.length,s=d;const p={};for(;s--;)p[l[s].key]=s;const k=[],E=new Map,$=new Map,F=[];for(s=i;s--;){const S=c(a,_,s),A=t(S);let w=u.get(A);w?F.push(()=>w.p(S,e)):(w=j(A,S),w.c()),E.set(A,k[s]=w),A in p&&$.set(A,Math.abs(s-p[A]))}const R=new Set,X=new Set;function I(S){we(S,1),S.m(b,h),u.set(S.key,S),h=S.first,i--}for(;d&&i;){const S=k[i-1],A=l[d-1],w=S.key,H=A.key;S===A?(h=S.first,d--,i--):E.has(H)?!u.has(w)||R.has(w)?I(S):X.has(H)?d--:$.get(w)>$.get(H)?(X.add(w),I(S)):(R.add(H),d--):(v(A,u),d--)}for(;d--;){const S=l[d];E.has(S.key)||v(S,u)}for(;i;)I(k[i-1]);return L(F),k}function oe(l,e,t){const n=l.slice();return n[13]=e[t],n[15]=t,n}function re(l,e,t){const n=l.slice();return n[16]=e[t],n[15]=t,n}function ue(l,e,t){const n=l.slice();return n[18]=e[t],n[15]=t,n}function fe(l,e,t){const n=l.slice();return n[20]=e[t],n[15]=t,n}function ce(l){let e,t,n,a,_,u,b,v,j,h,c,d=[],i=new Map,s,p,k=`We always welcome general inquiries and friendly hellos. Contact us
            here, or find us at our favourite spots around the city.`,E,$,F,R,X,I=[],S=new Map,A=K(["technology","journalism","culture"]),w=[];for(let o=0;o<3;o+=1)w[o]=de(fe(l,A,o));let H=K(["interactive-experiences","spatial-installations","printed matter"]),N=[];for(let o=0;o<3;o+=1)N[o]=he(ue(l,H,o));let Q=K(l[1]);const x=o=>o[16].id;for(let o=0;o<Q.length;o+=1){let f=re(l,Q,o),r=x(f);i.set(r,d[o]=_e(r,f))}let V=K(["julian","giacomo","fidel"]);const ee=o=>o[13];for(let o=0;o<3;o+=1){let f=oe(l,V,o),r=ee(f);S.set(r,I[o]=me(r,f))}return{c(){e=O("section"),t=O("p"),n=B(l[4]),a=B(","),_=U(),u=O("p"),b=B(`Starting in spring 2025, we are a research and design studio working
            at the intersection of
            `);for(let o=0;o<3;o+=1)w[o].c();v=B(`
            We make
            `);for(let o=0;o<3;o+=1)N[o].c();j=U(),h=O("p"),c=B(`Before forming Krisenstab, we
            `);for(let o=0;o<d.length;o+=1)d[o].c();s=U(),p=O("p"),p.textContent=k,E=U(),$=O("p"),F=B("Cheers, "),R=O("br"),X=U();for(let o=0;o<3;o+=1)I[o].c();this.h()},l(o){e=q(o,"SECTION",{class:!0});var f=W(e);t=q(f,"P",{class:!0});var r=W(t);n=M(r,l[4]),a=M(r,","),r.forEach(m),_=z(f),u=q(f,"P",{class:!0});var G=W(u);b=M(G,`Starting in spring 2025, we are a research and design studio working
            at the intersection of
            `);for(let T=0;T<3;T+=1)w[T].l(G);v=M(G,`
            We make
            `);for(let T=0;T<3;T+=1)N[T].l(G);G.forEach(m),j=z(f),h=q(f,"P",{class:!0});var Y=W(h);c=M(Y,`Before forming Krisenstab, we
            `);for(let T=0;T<d.length;T+=1)d[T].l(Y);Y.forEach(m),s=z(f),p=q(f,"P",{class:!0,"data-svelte-h":!0}),Ce(p)!=="svelte-ssay0r"&&(p.textContent=k),E=z(f),$=q(f,"P",{class:!0});var J=W($);F=M(J,"Cheers, "),R=q(J,"BR",{class:!0}),X=z(J);for(let T=0;T<3;T+=1)I[T].l(J);J.forEach(m),f.forEach(m),this.h()},h(){g(t,"class","svelte-1tdbx2"),g(u,"class","svelte-1tdbx2"),g(h,"class","svelte-1tdbx2"),g(p,"class","svelte-1tdbx2"),g(R,"class","svelte-1tdbx2"),g($,"class","svelte-1tdbx2"),g(e,"class","intro svelte-1tdbx2"),P(e,"fading",l[3]),P(e,"filter-active",l[0]!==null)},m(o,f){y(o,e,f),C(e,t),C(t,n),C(t,a),C(e,_),C(e,u),C(u,b);for(let r=0;r<3;r+=1)w[r]&&w[r].m(u,null);C(u,v);for(let r=0;r<3;r+=1)N[r]&&N[r].m(u,null);C(e,j),C(e,h),C(h,c);for(let r=0;r<d.length;r+=1)d[r]&&d[r].m(h,null);C(e,s),C(e,p),C(e,E),C(e,$),C($,F),C($,R),C($,X);for(let r=0;r<3;r+=1)I[r]&&I[r].m($,null)},p(o,f){if(f&231){A=K(["technology","journalism","culture"]);let r;for(r=0;r<3;r+=1){const G=fe(o,A,r);w[r]?w[r].p(G,f):(w[r]=de(G),w[r].c(),w[r].m(u,v))}for(;r<3;r+=1)w[r].d(1)}if(f&231){H=K(["interactive-experiences","spatial-installations","printed matter"]);let r;for(r=0;r<3;r+=1){const G=ue(o,H,r);N[r]?N[r].p(G,f):(N[r]=he(G),N[r].c(),N[r].m(u,null))}for(;r<3;r+=1)N[r].d(1)}f&198&&(Q=K(o[1]),d=ae(d,f,x,1,o,Q,i,h,se,_e,null,re)),f&199&&(V=K(["julian","giacomo","fidel"]),I=ae(I,f,ee,1,o,V,S,$,se,me,null,oe)),f&8&&P(e,"fading",o[3]),f&1&&P(e,"filter-active",o[0]!==null)},d(o){o&&m(e),le(w,o),le(N,o);for(let f=0;f<d.length;f+=1)d[f].d();for(let f=0;f<3;f+=1)I[f].d()}}}function Ae(l){let e;return{c(){e=B(l[20])},l(t){e=M(t,l[20])},m(t,n){y(t,e,n)},d(t){t&&m(e)}}}function Ie(l){let e,t;return{c(){e=B(l[20]),t=B(" (x)")},l(n){e=M(n,l[20]),t=M(n," (x)")},m(n,a){y(n,e,a),y(n,t,a)},d(n){n&&(m(e),m(t))}}}function de(l){let e,t,n,a,_=l[15]<2?l[15]===1?" and ":", ":".",u,b,v;function j(i,s){return s&1&&(t=null),t==null&&(t=!!(i[0]===i[20]&&Ee(i[20]))),t?Ie:Ae}let h=j(l,-1),c=h(l);function d(...i){return l[9](l[20],...i)}return{c(){e=O("button"),c.c(),a=U(),u=B(_),this.h()},l(i){e=q(i,"BUTTON",{class:!0,id:!0,"data-related":!0});var s=W(e);c.l(s),s.forEach(m),a=z(i),u=M(i,_),this.h()},h(){g(e,"class","interactive svelte-1tdbx2"),g(e,"id",l[20]),g(e,"data-related",n=l[1].filter(d).map(ge).join(" ")),P(e,"active",l[0]===l[20]),P(e,"highlighted",l[2].has(l[20]))},m(i,s){y(i,e,s),c.m(e,null),y(i,a,s),y(i,u,s),b||(v=[D(e,"click",l[5]),D(e,"mouseover",l[6]),D(e,"mouseout",l[7])],b=!0)},p(i,s){l=i,h!==(h=j(l,s))&&(c.d(1),c=h(l),c&&(c.c(),c.m(e,null))),s&2&&n!==(n=l[1].filter(d).map(ge).join(" "))&&g(e,"data-related",n),s&1&&P(e,"active",l[0]===l[20]),s&4&&P(e,"highlighted",l[2].has(l[20]))},d(i){i&&(m(e),m(a),m(u)),c.d(),b=!1,L(v)}}}function Ne(l){let e=l[18].replace("-"," ")+"",t;return{c(){t=B(e)},l(n){t=M(n,e)},m(n,a){y(n,t,a)},d(n){n&&m(t)}}}function Ge(l){let e=l[18].replace("-"," ")+"",t,n;return{c(){t=B(e),n=B(" (x)")},l(a){t=M(a,e),n=M(a," (x)")},m(a,_){y(a,t,_),y(a,n,_)},d(a){a&&(m(t),m(n))}}}function he(l){let e,t,n,a,_=l[15]<2?l[15]===1?" and ":", ":".",u,b,v;function j(i,s){return s&1&&(t=null),t==null&&(t=!!(i[0]===i[18]&&Ee(i[18]))),t?Ge:Ne}let h=j(l,-1),c=h(l);function d(...i){return l[10](l[18],...i)}return{c(){e=O("button"),c.c(),a=U(),u=B(_),this.h()},l(i){e=q(i,"BUTTON",{class:!0,id:!0,"data-related":!0});var s=W(e);c.l(s),s.forEach(m),a=z(i),u=M(i,_),this.h()},h(){g(e,"class","interactive svelte-1tdbx2"),g(e,"id",l[18]),g(e,"data-related",n=l[1].filter(d).map(ve).join(" ")),P(e,"active",l[0]===l[18]),P(e,"highlighted",l[2].has(l[18]))},m(i,s){y(i,e,s),c.m(e,null),y(i,a,s),y(i,u,s),b||(v=[D(e,"click",l[5]),D(e,"mouseover",l[6]),D(e,"mouseout",l[7])],b=!0)},p(i,s){l=i,h!==(h=j(l,s))&&(c.d(1),c=h(l),c&&(c.c(),c.m(e,null))),s&2&&n!==(n=l[1].filter(d).map(ve).join(" "))&&g(e,"data-related",n),s&1&&P(e,"active",l[0]===l[18]),s&4&&P(e,"highlighted",l[2].has(l[18]))},d(i){i&&(m(e),m(a),m(u)),c.d(),b=!1,L(v)}}}function _e(l,e){let t,n=e[16].text+"",a,_,u,b,v,j,h=e[15]<e[1].length-1?", ":".",c,d,i;return{key:l,first:null,c(){t=O("a"),a=B(n),j=U(),c=B(h),this.h()},l(s){t=q(s,"A",{href:!0,id:!0,class:!0,"data-related":!0,target:!0});var p=W(t);a=M(p,n),p.forEach(m),j=z(s),c=M(s,h),this.h()},h(){g(t,"href",_=e[16].link.includes("http")?e[16].link:`${ie}/${e[16].link}`),g(t,"id",u=e[16].id),g(t,"class","project svelte-1tdbx2"),g(t,"data-related",b=[...e[16].domain,...e[16].media,...e[16].authors].join(" ")),g(t,"target",v=e[16].link.includes("http")?"_blank":"_self"),P(t,"highlighted",e[2].has(e[16].id)),this.first=t},m(s,p){y(s,t,p),C(t,a),y(s,j,p),y(s,c,p),d||(i=[D(t,"mouseover",e[6]),D(t,"mouseout",e[7])],d=!0)},p(s,p){e=s,p&2&&n!==(n=e[16].text+"")&&ne(a,n),p&2&&_!==(_=e[16].link.includes("http")?e[16].link:`${ie}/${e[16].link}`)&&g(t,"href",_),p&2&&u!==(u=e[16].id)&&g(t,"id",u),p&2&&b!==(b=[...e[16].domain,...e[16].media,...e[16].authors].join(" "))&&g(t,"data-related",b),p&2&&v!==(v=e[16].link.includes("http")?"_blank":"_self")&&g(t,"target",v),p&6&&P(t,"highlighted",e[2].has(e[16].id)),p&2&&h!==(h=e[15]<e[1].length-1?", ":".")&&ne(c,h)},d(s){s&&(m(t),m(j),m(c)),d=!1,L(i)}}}function me(l,e){let t,n=e[13].charAt(0).toUpperCase()+e[13].slice(1)+"",a,_,u,b=e[15]<2?e[15]===1?" and ":", ":".",v,j,h;function c(...i){return e[11](e[13],...i)}function d(){return e[12](e[13])}return{key:l,first:null,c(){t=O("span"),a=B(n),u=U(),v=B(b),this.h()},l(i){t=q(i,"SPAN",{id:!0,class:!0,"data-related":!0});var s=W(t);a=M(s,n),s.forEach(m),u=z(i),v=M(i,b),this.h()},h(){g(t,"id",e[13]),g(t,"class","people interactive project svelte-1tdbx2"),g(t,"data-related",_=e[1].filter(c).map(ke).join(" ")),P(t,"active",e[0]===e[13]),P(t,"highlighted",e[2].has(e[13])),this.first=t},m(i,s){y(i,t,s),C(t,a),y(i,u,s),y(i,v,s),j||(h=[D(t,"click",d),D(t,"mouseover",e[6]),D(t,"mouseout",e[7])],j=!0)},p(i,s){e=i,s&2&&_!==(_=e[1].filter(c).map(ke).join(" "))&&g(t,"data-related",_),s&1&&P(t,"active",e[0]===e[13]),s&4&&P(t,"highlighted",e[2].has(e[13]))},d(i){i&&(m(t),m(u),m(v)),j=!1,L(h)}}}function Oe(l){let e,t=l[1].length>0&&ce(l);return{c(){t&&t.c(),e=te()},l(n){t&&t.l(n),e=te()},m(n,a){t&&t.m(n,a),y(n,e,a)},p(n,[a]){n[1].length>0?t?t.p(n,a):(t=ce(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(n){n&&m(e),t&&t.d(n)}}}function qe(){const l=new Date().getHours();return l<12?"Good morning":l<18?"Good afternoon":"Good evening"}function pe(l){const e=l.getAttribute("data-related")||"",t=e.trim()?e.trim().split(/\s+/):[];return{id:l.id,related:t}}function Ee(l){const e=["technology","journalism","culture"],t=["interactive-experiences","spatial-installations","printed matter"];return e.includes(l)||t.includes(l)}const ge=l=>`${l.id} ${l.authors.join(" ")}`,ve=l=>`${l.id} ${l.authors.join(" ")}`,ke=l=>`${l.id} ${l.domain.join(" ")} ${l.media.join(" ")}`;function De(l,e,t){let n=[],a=null,_=new Set,u=new Set,b=!1;ye(async()=>{const k=await fetch("projects.json");t(1,n=await k.json())});let v=qe();function j(k){const E=k.currentTarget.id;t(0,a=a===E?null:E)}function h(k){if(a)return;const E=k.currentTarget,{id:$,related:F}=pe(E);t(8,_=new Set([...F,$]))}function c(){a||t(8,_=new Set)}const d=(k,E)=>E.domain.includes(k),i=(k,E)=>E.media.includes(k),s=(k,E)=>E.authors.includes(k),p=k=>{t(0,a=a===k?null:k)};return l.$$.update=()=>{if(l.$$.dirty&257)if(a){const k=typeof document<"u"?document.getElementById(a):null;if(!k)t(2,u=new Set);else{const{id:E,related:$}=pe(k);t(2,u=new Set([...$,E]))}}else t(2,u=_);l.$$.dirty&257&&t(3,b=a!==null||_.size>0)},[a,n,u,b,v,j,h,c,_,d,i,s,p]}class Ue extends je{constructor(e){super(),Se(this,e,De,Oe,be,{})}}function We(l){let e,t;return e=new Ue({}),{c(){$e(e.$$.fragment)},l(n){Be(e.$$.fragment,n)},m(n,a){Me(e,n,a),t=!0},p:Z,i(n){t||(we(e.$$.fragment,n),t=!0)},o(n){Pe(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}class Ke extends je{constructor(e){super(),Se(this,e,null,We,be,{})}}export{Ke as component};
